<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>AI Mobile OS</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
body { background: #f0f0f0; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;}
.glass-card{background:rgba(255,255,255,0.7);backdrop-filter:blur(10px);border-radius:24px;}
.app-icon{width:60px;height:60px;background:white;border-radius:15px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 6px rgba(0,0,0,0.1);}
.chat-msg-user{background:#95ec69;border-radius:6px 0 6px 6px;}
.chat-msg-ai{background:white;border-radius:0 6px 6px 6px;}

.widget-card{
width:100%;
border-radius:28px;
padding:20px;
background:linear-gradient(135deg,#ffffff,#f3f4f6);
box-shadow:0 8px 20px rgba(0,0,0,0.08);
position:relative;
}
.widget-avatar{
width:60px;height:60px;border-radius:50%;object-fit:cover;
border:3px solid white;box-shadow:0 4px 10px rgba(0,0,0,0.1);
}
.widget-emoji{font-size:14px;}
.widget-text{
position:absolute;bottom:15px;right:20px;
font-size:12px;color:#555;
}
</style>
</head>

<body class="h-screen overflow-hidden flex flex-col">

<!-- é¦–é¡µ -->
<div id="home-screen" class="flex-1 p-6 flex flex-col items-center">

<div class="widget-card mb-12 mt-4">
<div class="flex items-start gap-10">
<div class="flex flex-col items-center gap-1">
<span class="widget-emoji">(â¸â¸à¹‘  Ì« à¹‘â¸â¸)</span>
<img class="widget-avatar"
src="https://i.postimg.cc/Qx8Y1m3R/IMG-2980.jpg">
</div>

<div class="flex flex-col items-center gap-1">
<span class="widget-emoji">(Ë¶âƒ Ï‰ âƒË¶)</span>
<img class="widget-avatar"
src="https://i.postimg.cc/Qx8Y1m3R/IMG-2980.jpg">
</div>
</div>

<div class="widget-text">
æˆ‘ä¸æƒ³éš”ç€å±å¹•å’Œä½ è¯´è¯
</div>
</div>

<div class="grid grid-cols-4 gap-6 w-full px-4">

<!-- å¾®ä¿¡ -->
<div class="col-span-4 flex justify-end">
<div class="flex flex-col items-center gap-1" onclick="openChat()">
<div class="app-icon">
<img src="https://i.postimg.cc/fycLsZLY/quality-restoration-20260228193355205.png"
class="w-full h-full object-cover rounded-[15px]">
</div>
<span class="text-xs text-gray-600">å¾®ä¿¡</span>
</div>
</div>

<!-- è®ºå› -->
<div class="col-span-4 flex justify-end">
<div class="flex flex-col items-center gap-1" onclick="openForum()">
<div class="app-icon">
<img src="https://i.postimg.cc/ZnjMz01G/quality-restoration-20260228202408361.png"
class="w-full h-full object-cover rounded-[15px]">
</div>
<span class="text-xs text-gray-600">è®ºå›</span>
</div>
</div>

</div>

</div>

<!-- ================= å¾®ä¿¡ ================= -->
<div id="chat-screen" class="fixed inset-0 bg-[#ededed] hidden flex flex-col z-50">

<div class="h-12 flex items-center px-4 border-b">
<button onclick="closeChat()">ã€ˆ</button>
<div class="flex-1 text-center font-bold">AI å¥½å‹</div>
</div>

<div id="chat-flow" class="flex-1 overflow-y-auto p-4 space-y-4"></div>

<div class="p-3 border-t bg-white">
<input id="chat-input" class="w-full border rounded px-3 py-2"
placeholder="è¾“å…¥æ¶ˆæ¯...">
<button onclick="sendUserMsg()"
class="w-full mt-2 bg-green-600 text-white py-2 rounded">
å‘é€
</button>
</div>

</div>

<!-- ================= è®ºå› ================= -->
<div id="forum-screen"
class="fixed inset-0 bg-white hidden flex flex-col z-50">

<!-- é¡¶æ  -->
<div class="h-12 flex items-center px-4 border-b relative">
<button onclick="closeForum()">ã€ˆ</button>
<div class="flex-1 text-center font-bold">è®ºå›</div>

<!-- ç”Ÿæˆ -->
<button onclick="generateForumPosts()"
class="absolute right-4 text-xl">ğŸ”„</button>
</div>

<!-- å¸–å­åˆ—è¡¨ -->
<div id="forum-flow"
class="flex-1 overflow-y-auto p-4 space-y-4"></div>

<!-- å‘å¸ƒæŒ‰é’® -->
<button onclick="openPostPage()"
class="fixed bottom-24 right-6 w-14 h-14 bg-black text-white text-3xl rounded-full flex items-center justify-center shadow-lg">
+
</button>

</div>

<!-- ================= å‘å¸–å…¨å±é¡µé¢ ================= -->
<div id="post-screen"
class="fixed inset-0 bg-white hidden flex flex-col z-[70]">

<div class="h-12 flex items-center px-4 border-b relative">

<button onclick="closePost()">ã€ˆ</button>

<div class="flex-1 text-center font-bold">å‘å¸–</div>

<!-- å‘å¸ƒæŒ‰é’® -->
<button onclick="submitPost()"
class="absolute right-4 px-3 py-1 rounded-xl bg-gray-200">
<span class="text-gray-800 text-sm font-medium">å‘å¸ƒ</span>
</button>

</div>

<div class="flex-1 p-4">

<textarea id="post-text"
class="w-full h-32 border rounded-xl p-3 outline-none"
placeholder="åˆ†äº«ç‚¹ä»€ä¹ˆå§..."></textarea>

<div id="image-preview" class="flex flex-wrap gap-3 mt-4"></div>

<label class="w-24 h-24 border-2 border-dashed rounded-xl
flex items-center justify-center text-gray-400 text-2xl cursor-pointer mt-3">
+
<input type="file" id="image-input" multiple accept="image/*" class="hidden">
</label>

</div>

</div>

<script>

let forumPosts=[];
let selectedImages=[];

/* ===== é¡µé¢åˆ‡æ¢ ===== */

function openChat(){document.getElementById("chat-screen").classList.remove("hidden");}
function closeChat(){document.getElementById("chat-screen").classList.add("hidden");}

function openForum(){
document.getElementById("forum-screen").classList.remove("hidden");
renderForum();
}
function closeForum(){
document.getElementById("forum-screen").classList.add("hidden");
}

function openPostPage(){
document.getElementById("post-screen").classList.remove("hidden");
}
function closePost(){
document.getElementById("post-screen").classList.add("hidden");
document.getElementById("post-text").value="";
selectedImages=[];
document.getElementById("image-preview").innerHTML="";
}

/* ===== å›¾ç‰‡ ===== */

document.getElementById("image-input")?.addEventListener("change",function(e){
for(let file of e.target.files){
let reader=new FileReader();
reader.onload=function(ev){
selectedImages.push(ev.target.result);
renderPreview();
}
reader.readAsDataURL(file);
}
});

function renderPreview(){
const container=document.getElementById("image-preview");
container.innerHTML="";
selectedImages.forEach((src,index)=>{
const div=document.createElement("div");
div.className="relative w-24 h-24";
div.innerHTML=`
<img src="${src}" class="w-full h-full object-cover rounded-xl">
<button onclick="removeImage(${index})"
class="absolute -top-2 -right-2 bg-black text-white w-5 h-5 rounded-full text-xs">
Ã—
</button>
`;
container.appendChild(div);
});
}

function removeImage(index){
selectedImages.splice(index,1);
renderPreview();
}

/* ===== å‘å¸ƒå¸–å­ ===== */

function submitPost(){
const text=document.getElementById("post-text").value.trim();
if(!text && selectedImages.length===0){
alert("è¯·è¾“å…¥å†…å®¹æˆ–æ·»åŠ å›¾ç‰‡");
return;
}

forumPosts.unshift({
title:text.substring(0,20)||"å›¾ç‰‡åˆ†äº«",
content:text,
images:[...selectedImages]
});

renderForum();
closePost();
}

/* ===== è®ºå›æ¸²æŸ“ ===== */

function renderForum(){
const container=document.getElementById("forum-flow");
container.innerHTML="";

forumPosts.forEach(post=>{
let imgHtml="";
if(post.images){
imgHtml=post.images.map(src=>
`<img src="${src}" class="w-full rounded-lg mt-2">`
).join("");
}

const div=document.createElement("div");
div.className="p-4 bg-gray-100 rounded-xl shadow-sm";
div.innerHTML=`
<h3 class="font-bold">${post.title}</h3>
<p class="text-sm text-gray-600">${post.content||""}</p>
${imgHtml}
`;

container.appendChild(div);
});
}

/* ===== ç”Ÿæˆå¸–å­ ===== */

async function generateForumPosts(){
alert("ç¤ºä¾‹åŠŸèƒ½ï¼Œå¯æ¥å…¥APIè‡ªè¡Œæ”¹");
}

</script>

</body>
</html>
